################################################################################
# File generated by HDevelop Version 23.11
#
# Do not modify!
################################################################################

cmake_minimum_required(VERSION 3.3 FATAL_ERROR)

project(DFF CXX)
if(DEFINED ENV{HALCONROOT} AND NOT $ENV{HALCONROOT} STREQUAL "")
  message("Using HALCONROOT " $ENV{HALCONROOT})
  STRING(REGEX REPLACE "\\\\" "/" HALCONROOT $ENV{HALCONROOT}) 
endif()
set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_CURRENT_SOURCE_DIR}/cmake)


# ===================================================================================================
# ===================================================================================================
# Source and header files
# ===================================================================================================
# ===================================================================================================

# ==================================================
#                  Source files
# ==================================================
SET(SOURCE source/DFF.cpp)

# ==================================================
#                  Header files
# ==================================================
SET(HEADER source/DFF.h)


# ===================================================================================================
# ===================================================================================================
# Dependencies
# ===================================================================================================
# ===================================================================================================


# ==================================================
#  Halcon
# ==================================================
find_package(Halcon)
set (INC_DIRS ${INC_DIRS} ${HALCON_INC_DIRS})
set (LIBS ${LIBS} ${HALCON_LIBS})

# ==================================================
#  HDevEngineCpp
# ==================================================
find_package(HDevEngine)
set (INC_DIRS ${INC_DIRS} ${HDEVENGINE_INC_DIRS})
set (LIBS ${LIBS} ${HDEVENGINE_LIBS})

# ===================================================================================================
# ===================================================================================================
# Output
# ===================================================================================================
# ===================================================================================================
if(${UNIX})
    set (LIBS ${LIBS} pthread)
endif()
add_library(${PROJECT_NAME} ${SOURCE} ${HEADER})
set (INC_DIRS ${INC_DIRS} ${CMAKE_CURRENT_SOURCE_DIR}/source)
target_include_directories(${PROJECT_NAME} PUBLIC ${INC_DIRS})
target_link_libraries(${PROJECT_NAME} PUBLIC ${LIBS})
set_property(TARGET ${PROJECT_NAME} PROPERTY CXX_STANDARD 11)

# ===================================================================================================
# Resources
# ===================================================================================================
# The exported resources directory 
# res_DFF
# will automatically be copied to the binary folder.
# To change this default location set the variable 
# CUSTOM_DFF_RESOURCE_DIR
# as desired!
# ===================================================================================================
if (NOT ${CUSTOM_DFF_RESOURCE_DIR} STREQUAL "")
  message("-- Copy exported resources to " ${CUSTOM_DFF_RESOURCE_DIR})
  add_custom_command(TARGET ${PROJECT_NAME} POST_BUILD
                     COMMAND ${CMAKE_COMMAND} -E copy_directory
                             "${CMAKE_CURRENT_SOURCE_DIR}/res_DFF"
                             "${CUSTOM_DFF_RESOURCE_DIR}")
elseif (NOT ${CMAKE_CURRENT_SOURCE_DIR} STREQUAL ${CMAKE_BINARY_DIR})
  if (${WIN32})
    SET(RESOURCE_TARGET_DIR ${CMAKE_BINARY_DIR}/$<CONFIG>)
  elseif (${APPLE})
    SET(RESOURCE_TARGET_DIR ${CMAKE_BINARY_DIR})
  else()
    SET(RESOURCE_TARGET_DIR ${CMAKE_BINARY_DIR})
  endif()
  message("-- Copy exported resources to " "${RESOURCE_TARGET_DIR}/res_DFF")
  add_custom_command(TARGET ${PROJECT_NAME} POST_BUILD
                     COMMAND ${CMAKE_COMMAND} -E copy_directory
                             "${CMAKE_CURRENT_SOURCE_DIR}/res_DFF"
                             "${RESOURCE_TARGET_DIR}/res_DFF")
endif()
